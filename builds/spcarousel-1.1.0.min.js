var spCarousel=spCarousel||{};!function(e){function t(){var e=getComputedStyle(v,null),t=e.maxHeight.replace("px","");W=I[0].children[0].naturalWidth/I[0].children[0].naturalHeight,S=v.offsetWidth,E=S/W/1.5,k=null,void 0!=t&&Number(t)<=E&&(E=Number(t),S=E*W*1.5,k=S),N=S/1.5,C=E,T=4*N,A=E,bookEndWidth=(S-N)/2,L=N-bookEndWidth}function s(){for(buttons=document.getElementsByClassName("sp-carousel-condtrol-default");buttons.length>0;)buttons[0].parentNode.removeChild(buttons[0]);window.removeEventListener("resize",d),v&&(v.removeEventListener("mouseenter",e.stopSlideTimer),v.removeEventListener("mouseout",e.startSlideTimer));for(var t=document.getElementsByClassName("sp-carousel-frame")[0].getElementsByTagName("*"),s=0;s<t.length;s++)t[s].removeAttribute("style")}function r(){return 0==R?I.length-1:R-1}function o(){return R==I.length-1?0:R+1}function l(){I.length<3&&alert("[Error] Carousel must contain at least 3 images")}function n(){z=[],z.push(I.length-1),z.push(0),z.push(1)}function a(){x=document.createElement("button"),x.style.left="0px",x.style.height=E+"px",x.style.width=bookEndWidth+"px",x.className+=x.className?" sp-carousel-control sp-carousel-condtrol-default sp-carousel-control-prev":"sp-carousel-control sp-carousel-condtrol-default sp-carousel-control-prev",prevArrow=document.createElement("div"),prevArrow.style.left=bookEndWidth/3+"px",prevArrow.style.height=prevArrow.style.width=bookEndWidth/4+"px",prevArrow.className+=prevArrow.className?" sp-carousel-arrow-left":"sp-carousel-arrow-left",x.appendChild(prevArrow),w=document.createElement("button"),w.style.right="0px",w.style.height=E+"px",w.style.width=bookEndWidth+"px",w.className+=w.className?" sp-carousel-control sp-carousel-condtrol-default sp-carousel-control-next":"sp-carousel-control sp-carousel-condtrol-default sp-carousel-control-next",nextArrow=document.createElement("div"),nextArrow.style.left=bookEndWidth/3+"px",nextArrow.style.height=nextArrow.style.width=bookEndWidth/4+"px",nextArrow.className+=nextArrow.className?" sp-carousel-arrow-right":"sp-carousel-arrow-right",w.appendChild(nextArrow),v.appendChild(x),v.appendChild(w),x.addEventListener("click",p,!0),w.addEventListener("click",u,!0)}function c(){for(v.style.height=E+"px",k?v.style.maxWidth=k+"px":v.style.maxWidth="",i=0;i<I.length;i++)I[i].style.display="none",I[i].style.width=N+"px";var e=-L;for(i=0;i<z.length;i++)I[z[i]].style.left=e.toString()+"px",I[z[i]].style.display="inline-block",e+=N}function d(){t(),x.style.height=w.style.height=E+"px",x.style.width=w.style.width=bookEndWidth+"px",x.children[0].style.left=w.children[0].style.left=bookEndWidth/3+"px",x.children[0].style.height=x.children[0].style.width=w.children[0].style.height=w.children[0].style.width=bookEndWidth/4+"px",c()}function p(e){if(h()){I[R].className=I[R].className.replace("sp-active",""),R=r(),I[R].className+=I[R].className?" sp-active":"sp-active";var t=r();z.unshift(t),I[t].style.left=-N-L+"px",I[t].style.display="inline-block";var s=b.animate([{transform:"translate(0)"},{transform:"translate("+N+"px, 0px)"}],{duration:O,easing:"ease-out"});s.addEventListener("finish",function(e){var t,s=0;if(I.length<=3)var s=-1;for(i=0;i<z.length+s;i++)t=Number(I[z[i]].style.left.replace("px",""))+N,I[z[i]].style.left=t+"px";I.length>3&&(I[z[z.length-1]].style.display="none"),z.pop(),m()})}}function u(e){if(h()){I[R].className=I[R].className.replace("sp-active",""),R=o(),I[R].className+=I[R].className?" sp-active":"sp-active";var t=o();z.push(t),I[t].style.left=1.5*N+L+"px",I[t].style.display="inline-block";var s=b.animate([{transform:"translate(0)"},{transform:"translate("+-N+"px, 0px)"}],{duration:O,easing:"ease-out"});s.addEventListener("finish",function(e){var t,s=0;for(I.length<=3&&(s=1),i=s;i<z.length;i++)t=Number(I[z[i]].style.left.replace("px",""))-N,I[z[i]].style.left=t+"px";I.length>3&&(I[z[0]].style.display="none"),z.shift(),m()})}}function h(){return j?!1:(j=!0,!0)}function m(){j=!1}function y(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1}function f(e,t){if(document.styleSheets&&0!=document.getElementsByTagName("head").length){var s;if(document.styleSheets.length>0)for(i=0;i<document.styleSheets.length;i++)if(!document.styleSheets[i].disabled){var r=document.styleSheets[i].media;if(s=typeof r,"string"==s?(""==r||-1!=r.indexOf("screen"))&&(styleSheet=document.styleSheets[i]):"object"==s&&(""==r.mediaText||-1!=r.mediaText.indexOf("screen"))&&(styleSheet=document.styleSheets[i]),"undefined"!=typeof styleSheet)break}if("undefined"==typeof styleSheet){var o=document.createElement("style");for(o.type="text/css",document.getElementsByTagName("head")[0].appendChild(o),i=0;i<document.styleSheets.length;i++)document.styleSheets[i].disabled||(styleSheet=document.styleSheets[i]);var r=styleSheet.media;s=typeof r}if("string"==s){for(i=0;i<styleSheet.rules.length;i++)if(styleSheet.rules[i].selectorText&&styleSheet.rules[i].selectorText.toLowerCase()==e.toLowerCase())return void(styleSheet.rules[i].style.cssText=t);styleSheet.addRule(e,t)}else if("object"==s){var l=styleSheet.cssRules?styleSheet.cssRules.length:0;for(i=0;i<l;i++)if(styleSheet.cssRules[i].selectorText&&styleSheet.cssRules[i].selectorText.toLowerCase()==e.toLowerCase())return void(styleSheet.cssRules[i].style.cssText=t);styleSheet.insertRule(e+"{"+t+"}",l)}}}function g(){f(".sp-carousel-control","display:inline-block;position:absolute;opacity:0.5;background-color:transparent;border:0;cursor:pointer;-webkit-transition:opacity 0.5s;-moz-transition:opacity 0.5s;-o-transition:opacity 0.5s;transition:opacity 0.5s;"),f(".sp-carousel-control:hover","opacity:0.9;"),f(".sp-carousel-control:focus","outline:none;"),f(".sp-carousel-control-prev","background-image: -webkit-linear-gradient(left,rgba(0,0,0,0.5) 0,rgba(0,0,0,0.0001) 100%);background-image: -o-linear-gradient(left,rgba(0,0,0,0.5) 0,rgba(0,0,0,0.0001) 100%);background-image: linear-gradient(to right,rgba(0,0,0,0.5) 0,rgba(0,0,0,0.0001) 100%);background-repeat: repeat-x;filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#80000000',endColorstr='#00000000',GradientType=1)"),f(".sp-carousel-control-next","background-image: -webkit-linear-gradient(left,rgba(0,0,0,0.0001) 0,rgba(0,0,0,0.5) 100%);background-image: -o-linear-gradient(left,rgba(0,0,0,0.0001) 0,rgba(0,0,0,0.5) 100%);background-image: linear-gradient(to right,rgba(0,0,0,0.0001) 0,rgba(0,0,0,0.5) 100%);background-repeat: repeat-x;filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#00000000',endColorstr='#80000000',GradientType=1);"),f(".sp-carousel-arrow-left","transform: rotate(-45deg);position: absolute;border-top: 5px solid white;border-left: 5px solid white;"),f(".sp-carousel-arrow-right","transform: rotate(45deg);position: absolute;border-top: 5px solid white;border-right: 5px solid white;"),f(".sp-carousel-frame","display:block;position:relative;overflow:hidden;opacity:1!important;"),f(".sp-carousel-inner","display:block;position:relative"),f(".sp-carousel-item","display:inline-block;position:absolute;height:auto;"),f(".sp-carousel-item img","width:100%;opacity:0.4;-webkit-transition:opacity 0.5s;-moz-transition:opacity 0.5s;-o-transition:opacity 0.5s;transition:opacity 0.5s;"),f(".sp-active img","opacity:1;"),f(".sp-hide","opacity:0;")}var v,b,x,w,S,E,k,N,C,T,A,W,L,B,R=0,I=[],z=[],O=500,j=!1,D={defaultButtons:!0,autoplay:!1,slideInterval:4e3};return e.init=function(r){if(s(),void 0!==r)for(var o in r)D[o]=r[o];return g(),v=document.getElementsByClassName("sp-carousel-frame")[0],void 0==v?void console.log("No element found using sp-carousel-frame class."):(e.frameElem=v,e.test=v,b=document.getElementsByClassName("sp-carousel-inner")[0],I=b.children,window.addEventListener("resize",d,!0),D.autoplay&&(e.startSlideTimer(),v.addEventListener("mouseenter",e.stopSlideTimer,!0),v.addEventListener("mouseout",e.startSlideTimer,!0)),t(),l(),n(),y(I[0],"sp-active")||(I[0].className+=I[0].className?" sp-active":"sp-active"),c(),void(D.defaultButtons&&a()))},e.startSlideTimer=function(){B=setInterval(u,D.slideInterval)},e.stopSlideTimer=function(){B&&clearTimeout(B)},window.onload=function(){e.init()},e}(spCarousel);