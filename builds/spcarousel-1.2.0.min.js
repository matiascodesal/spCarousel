var spCarousel=spCarousel||{};!function(e){function t(){var e=getComputedStyle(b,null),t=e.maxHeight.replace("px","");L=z[0].children[0].naturalWidth/z[0].children[0].naturalHeight,S=b.offsetWidth,k=S/L/1.5,N=null,void 0!=t&&Number(t)<=k&&(k=Number(t),S=k*L*1.5,N=S),C=S/1.5,T=k,A=4*C,W=k,bookEndWidth=(S-C)/2,B=C-bookEndWidth}function s(){for(buttons=document.getElementsByClassName("sp-carousel-condtrol-default");buttons.length>0;)buttons[0].parentNode.removeChild(buttons[0]);window.removeEventListener("resize",d),b&&(b.removeEventListener("mouseenter",e.stopSlideTimer),b.removeEventListener("mouseout",e.startSlideTimer));for(var t=document.getElementsByClassName("sp-carousel-frame")[0].getElementsByTagName("*"),s=0;s<t.length;s++)t[s].removeAttribute("style")}function r(){return 0==I?z.length-1:I-1}function o(){return I==z.length-1?0:I+1}function l(){z.length<3&&alert("[Error] Carousel must contain at least 3 images")}function n(){O=[],O.push(z.length-1),O.push(0),O.push(1)}function a(){w=document.createElement("button"),w.style.left="0px",w.style.height=k+"px",w.style.width=bookEndWidth+"px",w.className+=w.className?" sp-carousel-control sp-carousel-condtrol-default sp-carousel-control-prev":"sp-carousel-control sp-carousel-condtrol-default sp-carousel-control-prev",prevArrow=document.createElement("div"),prevArrow.style.left=bookEndWidth/3+"px",prevArrow.style.height=prevArrow.style.width=bookEndWidth/4+"px",prevArrow.className+=prevArrow.className?" sp-carousel-arrow-left":"sp-carousel-arrow-left",w.appendChild(prevArrow),E=document.createElement("button"),E.style.right="0px",E.style.height=k+"px",E.style.width=bookEndWidth+"px",E.className+=E.className?" sp-carousel-control sp-carousel-condtrol-default sp-carousel-control-next":"sp-carousel-control sp-carousel-condtrol-default sp-carousel-control-next",nextArrow=document.createElement("div"),nextArrow.style.left=bookEndWidth/3+"px",nextArrow.style.height=nextArrow.style.width=bookEndWidth/4+"px",nextArrow.className+=nextArrow.className?" sp-carousel-arrow-right":"sp-carousel-arrow-right",E.appendChild(nextArrow),b.appendChild(w),b.appendChild(E),w.addEventListener("click",p,!0),E.addEventListener("click",u,!0)}function c(){for(b.style.height=k+"px",N?b.style.maxWidth=N+"px":b.style.maxWidth="",i=0;i<z.length;i++)z[i].style.display="none",z[i].style.width=C+"px";var e=-B;for(i=0;i<O.length;i++)z[O[i]].style.left=e.toString()+"px",z[O[i]].style.display="inline-block",e+=C}function d(){t(),w.style.height=E.style.height=k+"px",w.style.width=E.style.width=bookEndWidth+"px",w.children[0].style.left=E.children[0].style.left=bookEndWidth/3+"px",w.children[0].style.height=w.children[0].style.width=E.children[0].style.height=E.children[0].style.width=bookEndWidth/4+"px",c()}function p(e){if(h()){z[I].className=z[I].className.replace("sp-active",""),I=r(),z[I].className+=z[I].className?" sp-active":"sp-active";var t=r();O.unshift(t),z[t].style.left=-C-B+"px",z[t].style.display="inline-block";var s=x.animate([{transform:"translate(0)"},{transform:"translate("+C+"px, 0px)"}],{duration:j,easing:"ease-out"});s.addEventListener("finish",function(e){var t,s=0;if(z.length<=3)var s=-1;for(i=0;i<O.length+s;i++)t=Number(z[O[i]].style.left.replace("px",""))+C,z[O[i]].style.left=t+"px";z.length>3&&(z[O[O.length-1]].style.display="none"),O.pop(),m()})}}function u(e){if(h()){z[I].className=z[I].className.replace("sp-active",""),I=o(),z[I].className+=z[I].className?" sp-active":"sp-active";var t=o();O.push(t),z[t].style.left=1.5*C+B+"px",z[t].style.display="inline-block";var s=x.animate([{transform:"translate(0)"},{transform:"translate("+-C+"px, 0px)"}],{duration:j,easing:"ease-out"});s.addEventListener("finish",function(e){var t,s=0;for(z.length<=3&&(s=1),i=s;i<O.length;i++)t=Number(z[O[i]].style.left.replace("px",""))-C,z[O[i]].style.left=t+"px";z.length>3&&(z[O[0]].style.display="none"),O.shift(),m()})}}function h(){return D?!1:(D=!0,!0)}function m(){D=!1}function y(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1}function f(e,t){if(document.styleSheets&&0!=document.getElementsByTagName("head").length){var s;if(document.styleSheets.length>0)for(i=0;i<document.styleSheets.length;i++)if(!document.styleSheets[i].disabled){var r=document.styleSheets[i].media;if(s=typeof r,"string"==s?(""==r||-1!=r.indexOf("screen"))&&(styleSheet=document.styleSheets[i]):"object"==s&&(""==r.mediaText||-1!=r.mediaText.indexOf("screen"))&&(styleSheet=document.styleSheets[i]),"undefined"!=typeof styleSheet)break}if("undefined"==typeof styleSheet){var o=document.createElement("style");for(o.type="text/css",document.getElementsByTagName("head")[0].appendChild(o),i=0;i<document.styleSheets.length;i++)document.styleSheets[i].disabled||(styleSheet=document.styleSheets[i]);var r=styleSheet.media;s=typeof r}if("string"==s){for(i=0;i<styleSheet.rules.length;i++)if(styleSheet.rules[i].selectorText&&styleSheet.rules[i].selectorText.toLowerCase()==e.toLowerCase())return void(styleSheet.rules[i].style.cssText=t);styleSheet.addRule(e,t)}else if("object"==s){var l=styleSheet.cssRules?styleSheet.cssRules.length:0;for(i=0;i<l;i++)if(styleSheet.cssRules[i].selectorText&&styleSheet.cssRules[i].selectorText.toLowerCase()==e.toLowerCase())return void(styleSheet.cssRules[i].style.cssText=t);styleSheet.insertRule(e+"{"+t+"}",l)}}}function g(){f(".sp-carousel-control","display:inline-block;position:absolute;opacity:0.5;background-color:transparent;border:0;cursor:pointer;-webkit-transition:opacity 0.5s;-moz-transition:opacity 0.5s;-o-transition:opacity 0.5s;transition:opacity 0.5s;"),f(".sp-carousel-control:hover","opacity:0.9;"),f(".sp-carousel-control:focus","outline:none;"),f(".sp-carousel-control-prev","background-image: -webkit-linear-gradient(left,rgba(0,0,0,0.5) 0,rgba(0,0,0,0.0001) 100%);background-image: -o-linear-gradient(left,rgba(0,0,0,0.5) 0,rgba(0,0,0,0.0001) 100%);background-image: linear-gradient(to right,rgba(0,0,0,0.5) 0,rgba(0,0,0,0.0001) 100%);background-repeat: repeat-x;filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#80000000',endColorstr='#00000000',GradientType=1)"),f(".sp-carousel-control-next","background-image: -webkit-linear-gradient(left,rgba(0,0,0,0.0001) 0,rgba(0,0,0,0.5) 100%);background-image: -o-linear-gradient(left,rgba(0,0,0,0.0001) 0,rgba(0,0,0,0.5) 100%);background-image: linear-gradient(to right,rgba(0,0,0,0.0001) 0,rgba(0,0,0,0.5) 100%);background-repeat: repeat-x;filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#00000000',endColorstr='#80000000',GradientType=1);"),f(".sp-carousel-arrow-left","transform: rotate(-45deg);position: absolute;border-top: 5px solid white;border-left: 5px solid white;"),f(".sp-carousel-arrow-right","transform: rotate(45deg);position: absolute;border-top: 5px solid white;border-right: 5px solid white;"),f(".sp-carousel-frame","display:block;position:relative;overflow:hidden;opacity:1!important;"),f(".sp-carousel-inner","display:block;position:relative"),f(".sp-carousel-item","display:inline-block;position:absolute;height:auto;"),f(".sp-carousel-item img","width:100%;opacity:0.4;-webkit-transition:opacity 0.5s;-moz-transition:opacity 0.5s;-o-transition:opacity 0.5s;transition:opacity 0.5s;"),f(".sp-active img","opacity:1;"),f(".sp-hide","opacity:0;")}var v,b,x,w,E,S,k,N,C,T,A,W,L,B,R,I=0,z=[],O=[],j=500,D=!1,G={defaultButtons:!0,autoplay:!1,slideInterval:4e3};return e.init=function(r){if(s(),void 0!==r)for(var o in r)G[o]=r[o];return g(),v=document.getElementsByClassName("sp-loading")[0],v.style.display="none",b=document.getElementsByClassName("sp-carousel-frame")[0],void 0==b?void console.log("No element found using sp-carousel-frame class."):(e.frameElem=b,e.test=b,x=document.getElementsByClassName("sp-carousel-inner")[0],z=x.children,window.addEventListener("resize",d,!0),G.autoplay&&(e.startSlideTimer(),b.addEventListener("mouseenter",e.stopSlideTimer,!0),b.addEventListener("mouseout",e.startSlideTimer,!0)),t(),l(),n(),y(z[0],"sp-active")||(z[0].className+=z[0].className?" sp-active":"sp-active"),c(),void(G.defaultButtons&&a()))},e.startSlideTimer=function(){R=setInterval(u,G.slideInterval)},e.stopSlideTimer=function(){R&&clearTimeout(R)},window.onload=function(){e.init()},e}(spCarousel);