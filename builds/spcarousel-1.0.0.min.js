var spCarousel=spCarousel||{};!function(e){function t(){var e=getComputedStyle(f,null),t=e.maxHeight.replace("px","");C=W[0].children[0].naturalWidth/W[0].children[0].naturalHeight,x=f.offsetWidth,w=x/C/1.5,v=null,void 0!=t&&Number(t)<w&&(w=Number(t),x=w*C*1.5,v=x),k=x/1.5,S=w,E=4*k,N=w,bookEndWidth=(x-k)/2,A=k-bookEndWidth}function s(){return 0==T?W.length-1:T-1}function r(){return T==W.length-1?0:T+1}function o(){W.length<3&&alert("[Error] Carousel must contain at least 3 images"),L.push(W.length-1),L.push(0),L.push(1)}function l(){m=document.createElement("button"),m.style.left="0px",m.style.height=w+"px",m.style.width=bookEndWidth+"px",m.className+=m.className?" sp-carousel-control sp-carousel-control-prev":"sp-carousel-control sp-carousel-control-prev",prevArrow=document.createElement("div"),prevArrow.style.left=bookEndWidth/3+"px",prevArrow.style.height=prevArrow.style.width=bookEndWidth/4+"px",prevArrow.className+=prevArrow.className?" sp-carousel-arrow-left":"sp-carousel-arrow-left",m.appendChild(prevArrow),b=document.createElement("button"),b.style.right="0px",b.style.height=w+"px",b.style.width=bookEndWidth+"px",b.className+=b.className?" sp-carousel-control sp-carousel-control-next":"sp-carousel-control sp-carousel-control-next",nextArrow=document.createElement("div"),nextArrow.style.left=bookEndWidth/3+"px",nextArrow.style.height=nextArrow.style.width=bookEndWidth/4+"px",nextArrow.className+=nextArrow.className?" sp-carousel-arrow-right":"sp-carousel-arrow-right",b.appendChild(nextArrow),f.appendChild(m),f.appendChild(b),m.addEventListener("click",c,!0),b.addEventListener("click",d,!0)}function n(){for(f.style.height=w+"px",f.style.maxWidth=v+"px",i=0;i<W.length;i++)W[i].style.display="none",W[i].style.width=k+"px";var e=-A;for(i=0;i<L.length;i++)W[L[i]].style.left=e.toString()+"px",W[L[i]].style.display="inline-block",e+=k}function a(){t(),m.style.height=b.style.height=w+"px",m.style.width=b.style.width=bookEndWidth+"px",m.children[0].style.left=b.children[0].style.left=bookEndWidth/3+"px",m.children[0].style.height=m.children[0].style.width=b.children[0].style.height=b.children[0].style.width=bookEndWidth/4+"px",n()}function c(e){if(p()){W[T].className=W[T].className.replace("sp-active",""),T=s(),W[T].className+=W[T].className?" sp-active":"sp-active";var t=s();L.unshift(t),W[t].style.left=-k-A+"px",W[t].style.display="inline-block";var r=g.animate([{transform:"translate(0)"},{transform:"translate("+k+"px, 0px)"}],{duration:R,easing:"ease-out"});r.addEventListener("finish",function(e){var t;for(i=0;i<L.length;i++)t=Number(W[L[i]].style.left.replace("px",""))+k,W[L[i]].style.left=t+"px";W[L[L.length-1]].style.display="none",L.pop(),u()})}}function d(e){if(p()){W[T].className=W[T].className.replace("sp-active",""),T=r(),W[T].className+=W[T].className?" sp-active":"sp-active";var t=r();L.push(t),W[t].style.left=1.5*k+A+"px",W[t].style.display="inline-block";var s=g.animate([{transform:"translate(0)"},{transform:"translate("+-k+"px, 0px)"}],{duration:R,easing:"ease-out"});s.addEventListener("finish",function(e){var t;for(i=0;i<L.length;i++)t=Number(W[L[i]].style.left.replace("px",""))-k,W[L[i]].style.left=t+"px";W[L[0]].style.display="none",L.shift(),u()})}}function p(){return B?!1:(B=!0,!0)}function u(){B=!1}function h(e,t){if(document.styleSheets&&0!=document.getElementsByTagName("head").length){var s;if(document.styleSheets.length>0)for(i=0;i<document.styleSheets.length;i++)if(!document.styleSheets[i].disabled){var r=document.styleSheets[i].media;if(s=typeof r,"string"==s?(""==r||-1!=r.indexOf("screen"))&&(styleSheet=document.styleSheets[i]):"object"==s&&(""==r.mediaText||-1!=r.mediaText.indexOf("screen"))&&(styleSheet=document.styleSheets[i]),"undefined"!=typeof styleSheet)break}if("undefined"==typeof styleSheet){var o=document.createElement("style");for(o.type="text/css",document.getElementsByTagName("head")[0].appendChild(o),i=0;i<document.styleSheets.length;i++)document.styleSheets[i].disabled||(styleSheet=document.styleSheets[i]);var r=styleSheet.media;s=typeof r}if("string"==s){for(i=0;i<styleSheet.rules.length;i++)if(styleSheet.rules[i].selectorText&&styleSheet.rules[i].selectorText.toLowerCase()==e.toLowerCase())return void(styleSheet.rules[i].style.cssText=t);styleSheet.addRule(e,t)}else if("object"==s){var l=styleSheet.cssRules?styleSheet.cssRules.length:0;for(i=0;i<l;i++)if(styleSheet.cssRules[i].selectorText&&styleSheet.cssRules[i].selectorText.toLowerCase()==e.toLowerCase())return void(styleSheet.cssRules[i].style.cssText=t);styleSheet.insertRule(e+"{"+t+"}",l)}}}function y(){h(".sp-carousel-control","display:inline-block;position:absolute;opacity:0.5;background-color:transparent;border:0;cursor:pointer;-webkit-transition:opacity 0.5s;-moz-transition:opacity 0.5s;-o-transition:opacity 0.5s;transition:opacity 0.5s;"),h(".sp-carousel-control:hover","opacity:0.9;"),h(".sp-carousel-control:focus","outline:none;"),h(".sp-carousel-control-prev","background-image: -webkit-linear-gradient(left,rgba(0,0,0,0.5) 0,rgba(0,0,0,0.0001) 100%);background-image: -o-linear-gradient(left,rgba(0,0,0,0.5) 0,rgba(0,0,0,0.0001) 100%);background-image: linear-gradient(to right,rgba(0,0,0,0.5) 0,rgba(0,0,0,0.0001) 100%);background-repeat: repeat-x;filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#80000000',endColorstr='#00000000',GradientType=1)"),h(".sp-carousel-control-next","background-image: -webkit-linear-gradient(left,rgba(0,0,0,0.0001) 0,rgba(0,0,0,0.5) 100%);background-image: -o-linear-gradient(left,rgba(0,0,0,0.0001) 0,rgba(0,0,0,0.5) 100%);background-image: linear-gradient(to right,rgba(0,0,0,0.0001) 0,rgba(0,0,0,0.5) 100%);background-repeat: repeat-x;filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#00000000',endColorstr='#80000000',GradientType=1);"),h(".sp-carousel-arrow-left","transform: rotate(-45deg);position: absolute;border-top: 5px solid white;border-left: 5px solid white;"),h(".sp-carousel-arrow-right","transform: rotate(45deg);position: absolute;border-top: 5px solid white;border-right: 5px solid white;"),h(".sp-carousel-frame","display:block;position:relative;overflow:hidden"),h(".sp-carousel-inner","display:block;position:relative"),h(".sp-carousel-item","display:inline-block;position:absolute;height:auto;"),h(".sp-carousel-item > img","width:100%;opacity:0.4;-webkit-transition:opacity 0.5s;-moz-transition:opacity 0.5s;-o-transition:opacity 0.5s;transition:opacity 0.5s;"),h(".sp-active > img","opacity:1;")}var f,g,m,b,x,w,v,k,S,E,N,C,A,T=0,W=[],L=[],R=500,B=!1,z={defaultButtons:!0};return e.init=function(){y(),f=document.getElementsByClassName("sp-carousel-frame")[0],e.frameElem=f,e.test=f,g=document.getElementsByClassName("sp-carousel-inner")[0],W=g.children,window.addEventListener("resize",a,!0),t(),o(),n(),z.defaultButtons&&l()},window.onload=function(){e.init()},e}(spCarousel);