var spCarousel=spCarousel||{};!function(e){function t(){var e=getComputedStyle(m,null),t=e.maxHeight.replace("px","");A=R[0].children[0].naturalWidth/R[0].children[0].naturalHeight,w=m.offsetWidth,k=w/A/1.5,S=null,void 0!=t&&Number(t)<=k&&(k=Number(t),w=k*A*1.5,S=w),N=w/1.5,E=k,C=4*N,W=k,bookEndWidth=(w-N)/2,T=N-bookEndWidth}function s(){return 0==L?R.length-1:L-1}function r(){return L==R.length-1?0:L+1}function o(){R.length<3&&alert("[Error] Carousel must contain at least 3 images")}function l(){B.push(R.length-1),B.push(0),B.push(1)}function a(){x=document.createElement("button"),x.style.left="0px",x.style.height=k+"px",x.style.width=bookEndWidth+"px",x.className+=x.className?" sp-carousel-control sp-carousel-control-prev":"sp-carousel-control sp-carousel-control-prev",prevArrow=document.createElement("div"),prevArrow.style.left=bookEndWidth/3+"px",prevArrow.style.height=prevArrow.style.width=bookEndWidth/4+"px",prevArrow.className+=prevArrow.className?" sp-carousel-arrow-left":"sp-carousel-arrow-left",x.appendChild(prevArrow),v=document.createElement("button"),v.style.right="0px",v.style.height=k+"px",v.style.width=bookEndWidth+"px",v.className+=v.className?" sp-carousel-control sp-carousel-control-next":"sp-carousel-control sp-carousel-control-next",nextArrow=document.createElement("div"),nextArrow.style.left=bookEndWidth/3+"px",nextArrow.style.height=nextArrow.style.width=bookEndWidth/4+"px",nextArrow.className+=nextArrow.className?" sp-carousel-arrow-right":"sp-carousel-arrow-right",v.appendChild(nextArrow),m.appendChild(x),m.appendChild(v),x.addEventListener("click",d,!0),v.addEventListener("click",p,!0)}function n(){for(m.style.height=k+"px",S?m.style.maxWidth=S+"px":m.style.maxWidth="",i=0;i<R.length;i++)R[i].style.display="none",R[i].style.width=N+"px";var e=-T;for(i=0;i<B.length;i++)R[B[i]].style.left=e.toString()+"px",R[B[i]].style.display="inline-block",e+=N}function c(){t(),x.style.height=v.style.height=k+"px",x.style.width=v.style.width=bookEndWidth+"px",x.children[0].style.left=v.children[0].style.left=bookEndWidth/3+"px",x.children[0].style.height=x.children[0].style.width=v.children[0].style.height=v.children[0].style.width=bookEndWidth/4+"px",n()}function d(e){if(u()){R[L].className=R[L].className.replace("sp-active",""),L=s(),R[L].className+=R[L].className?" sp-active":"sp-active";var t=s();B.unshift(t),R[t].style.left=-N-T+"px",R[t].style.display="inline-block";var r=b.animate([{transform:"translate(0)"},{transform:"translate("+N+"px, 0px)"}],{duration:z,easing:"ease-out"});r.addEventListener("finish",function(e){var t,s=0;if(R.length<=3)var s=-1;for(i=0;i<B.length+s;i++)t=Number(R[B[i]].style.left.replace("px",""))+N,R[B[i]].style.left=t+"px";R.length>3&&(R[B[B.length-1]].style.display="none"),B.pop(),h()})}}function p(e){if(u()){R[L].className=R[L].className.replace("sp-active",""),L=r(),R[L].className+=R[L].className?" sp-active":"sp-active";var t=r();B.push(t),R[t].style.left=1.5*N+T+"px",R[t].style.display="inline-block";var s=b.animate([{transform:"translate(0)"},{transform:"translate("+-N+"px, 0px)"}],{duration:z,easing:"ease-out"});s.addEventListener("finish",function(e){var t,s=0;for(R.length<=3&&(s=1),i=s;i<B.length;i++)t=Number(R[B[i]].style.left.replace("px",""))-N,R[B[i]].style.left=t+"px";R.length>3&&(R[B[0]].style.display="none"),B.shift(),h()})}}function u(){return O?!1:(O=!0,!0)}function h(){O=!1}function y(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1}function f(e,t){if(document.styleSheets&&0!=document.getElementsByTagName("head").length){var s;if(document.styleSheets.length>0)for(i=0;i<document.styleSheets.length;i++)if(!document.styleSheets[i].disabled){var r=document.styleSheets[i].media;if(s=typeof r,"string"==s?(""==r||-1!=r.indexOf("screen"))&&(styleSheet=document.styleSheets[i]):"object"==s&&(""==r.mediaText||-1!=r.mediaText.indexOf("screen"))&&(styleSheet=document.styleSheets[i]),"undefined"!=typeof styleSheet)break}if("undefined"==typeof styleSheet){var o=document.createElement("style");for(o.type="text/css",document.getElementsByTagName("head")[0].appendChild(o),i=0;i<document.styleSheets.length;i++)document.styleSheets[i].disabled||(styleSheet=document.styleSheets[i]);var r=styleSheet.media;s=typeof r}if("string"==s){for(i=0;i<styleSheet.rules.length;i++)if(styleSheet.rules[i].selectorText&&styleSheet.rules[i].selectorText.toLowerCase()==e.toLowerCase())return void(styleSheet.rules[i].style.cssText=t);styleSheet.addRule(e,t)}else if("object"==s){var l=styleSheet.cssRules?styleSheet.cssRules.length:0;for(i=0;i<l;i++)if(styleSheet.cssRules[i].selectorText&&styleSheet.cssRules[i].selectorText.toLowerCase()==e.toLowerCase())return void(styleSheet.cssRules[i].style.cssText=t);styleSheet.insertRule(e+"{"+t+"}",l)}}}function g(){f(".sp-carousel-control","display:inline-block;position:absolute;opacity:0.5;background-color:transparent;border:0;cursor:pointer;-webkit-transition:opacity 0.5s;-moz-transition:opacity 0.5s;-o-transition:opacity 0.5s;transition:opacity 0.5s;"),f(".sp-carousel-control:hover","opacity:0.9;"),f(".sp-carousel-control:focus","outline:none;"),f(".sp-carousel-control-prev","background-image: -webkit-linear-gradient(left,rgba(0,0,0,0.5) 0,rgba(0,0,0,0.0001) 100%);background-image: -o-linear-gradient(left,rgba(0,0,0,0.5) 0,rgba(0,0,0,0.0001) 100%);background-image: linear-gradient(to right,rgba(0,0,0,0.5) 0,rgba(0,0,0,0.0001) 100%);background-repeat: repeat-x;filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#80000000',endColorstr='#00000000',GradientType=1)"),f(".sp-carousel-control-next","background-image: -webkit-linear-gradient(left,rgba(0,0,0,0.0001) 0,rgba(0,0,0,0.5) 100%);background-image: -o-linear-gradient(left,rgba(0,0,0,0.0001) 0,rgba(0,0,0,0.5) 100%);background-image: linear-gradient(to right,rgba(0,0,0,0.0001) 0,rgba(0,0,0,0.5) 100%);background-repeat: repeat-x;filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#00000000',endColorstr='#80000000',GradientType=1);"),f(".sp-carousel-arrow-left","transform: rotate(-45deg);position: absolute;border-top: 5px solid white;border-left: 5px solid white;"),f(".sp-carousel-arrow-right","transform: rotate(45deg);position: absolute;border-top: 5px solid white;border-right: 5px solid white;"),f(".sp-carousel-frame","display:block;position:relative;overflow:hidden;opacity:1!important;"),f(".sp-carousel-inner","display:block;position:relative"),f(".sp-carousel-item","display:inline-block;position:absolute;height:auto;"),f(".sp-carousel-item img","width:100%;opacity:0.4;-webkit-transition:opacity 0.5s;-moz-transition:opacity 0.5s;-o-transition:opacity 0.5s;transition:opacity 0.5s;"),f(".sp-active img","opacity:1;"),f(".sp-hide","opacity:0;")}var m,b,x,v,w,k,S,N,E,C,W,A,T,L=0,R=[],B=[],z=500,O=!1,j={defaultButtons:!0};return e.init=function(){return g(),m=document.getElementsByClassName("sp-carousel-frame")[0],void 0==m?void console.log("No element found using sp-carousel-frame class."):(e.frameElem=m,e.test=m,b=document.getElementsByClassName("sp-carousel-inner")[0],R=b.children,window.addEventListener("resize",c,!0),t(),o(),l(),y(R[0],"sp-active")||(R[0].className+=R[0].className?" sp-active":"sp-active"),n(),void(j.defaultButtons&&a()))},window.onload=function(){e.init()},e}(spCarousel);